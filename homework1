1######
@app.get("/courses/search/")
def search_courses(min_price: float = 0, category: Optional[str] = None):
    with Session(engine) as session:
        statement = select(Course).where(Course.price >= min_price)

        if category:
            statement = statement.where(Course.category == category)

        results = session.exec(statement).all()
        return results
2########
@app.delete("/courses/{id}")
def delete_course(id: int):
    with Session(engine) as session:
        course = session.get(Course, id)

        if not course:
            raise HTTPException(status_code=404, detail="Kurs tapılmadı")

        if course.is_active == False:
            raise HTTPException(status_code=400, detail="Bu kurs artıq deaktivdir")

        course.is_active = False
        session.add(course)
        session.commit()

        return {"message": "Kurs deaktiv edildi"}
